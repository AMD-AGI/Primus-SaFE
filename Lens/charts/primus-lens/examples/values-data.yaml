# 数据集群配置示例

deploymentMode: data

global:
  clusterName: data-cluster-1
  namespace: primus-lens
  profile: normal
  storageClass: standard
  imageRegistry: docker.io

# 管理集群组件不启用
management:
  enabled: false

# 数据集群启用所有组件
data:
  enabled: auto  # 自动根据 deploymentMode 判断
  
  jobs:
    enabled: true
    mode: data
  
  telemetryProcessor:
    enabled: true
    replicas: 2
    mode: data
  
  gpuResourceExporter:
    enabled: true
  
  nodeExporter:
    enabled: true
    containerdSocket: /run/containerd/containerd.sock

# 连接到远程中间件（管理集群）
middleware:
  enabled: false
  
  remote:
    postgresql:
      host: management-cluster.primus-lens.svc.cluster.local
      port: 5432
      database: primus_lens
      user: primus_lens
      existingSecret: primus-lens-remote-db-password
    
    opensearch:
      host: management-cluster.primus-lens.svc.cluster.local
      port: 9200
    
    victoriametrics:
      host: management-cluster.primus-lens.svc.cluster.local
      port: 8428
    
    otelCollector:
      endpoint: management-cluster.primus-lens.svc.cluster.local:4317

