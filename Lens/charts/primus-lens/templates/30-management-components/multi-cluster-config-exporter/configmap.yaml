{{- if and (eq (include "primus-lens.management.enabled" .) "true") .Values.management.multiClusterConfigExporter.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "primus-lens.fullname" . }}-multi-cluster-config-exporter-config
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "primus-lens.labels" . | nindent 4 }}
    app.kubernetes.io/component: multi-cluster-config-exporter
data:
  config.yaml: |
    scanInterval: {{ .Values.management.multiClusterConfigExporter.scanInterval }}
    
    # Multi-cluster config secret name
    multiClusterSecretName: multi-k8s-config
    
    # Storage config secret name
    storageConfigSecretName: storage-config
    
    # Aggregated config secret name
    aggregatedConfigSecretName: multi-storage-config
{{- end }}

