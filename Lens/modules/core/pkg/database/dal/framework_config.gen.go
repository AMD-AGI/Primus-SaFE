// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package dal

import (
	"context"
	"database/sql"

	"gorm.io/gorm"
	"gorm.io/gorm/clause"
	"gorm.io/gorm/schema"

	"gorm.io/gen"
	"gorm.io/gen/field"

	"gorm.io/plugin/dbresolver"

	"github.com/AMD-AGI/Primus-SaFE/Lens/core/pkg/database/model"
)

func newFrameworkConfig(db *gorm.DB, opts ...gen.DOOption) frameworkConfig {
	_frameworkConfig := frameworkConfig{}

	_frameworkConfig.frameworkConfigDo.UseDB(db, opts...)
	_frameworkConfig.frameworkConfigDo.UseModel(&model.FrameworkConfig{})

	tableName := _frameworkConfig.frameworkConfigDo.TableName()
	_frameworkConfig.ALL = field.NewAsterisk(tableName)
	_frameworkConfig.ID = field.NewInt32(tableName, "id")
	_frameworkConfig.FrameworkName = field.NewString(tableName, "framework_name")
	_frameworkConfig.DisplayName = field.NewString(tableName, "display_name")
	_frameworkConfig.Description = field.NewString(tableName, "description")
	_frameworkConfig.Priority = field.NewInt32(tableName, "priority")
	_frameworkConfig.BaseConfidence = field.NewFloat64(tableName, "base_confidence")
	_frameworkConfig.Enabled = field.NewBool(tableName, "enabled")
	_frameworkConfig.Config = field.NewField(tableName, "config")
	_frameworkConfig.CreatedAt = field.NewTime(tableName, "created_at")
	_frameworkConfig.UpdatedAt = field.NewTime(tableName, "updated_at")

	_frameworkConfig.fillFieldMap()

	return _frameworkConfig
}

type frameworkConfig struct {
	frameworkConfigDo

	ALL            field.Asterisk
	ID             field.Int32
	FrameworkName  field.String // Unique framework identifier (e.g., primus, deepspeed, megatron)
	DisplayName    field.String // Human-readable framework name
	Description    field.String
	Priority       field.Int32   // Priority for conflict resolution, higher value means higher priority
	BaseConfidence field.Float64 // Base confidence level for this framework (0.00-1.00)
	Enabled        field.Bool    // Whether this framework detection is enabled
	Config         field.Field   // JSONB configuration containing log_patterns, image_patterns, env_keys, etc.
	CreatedAt      field.Time    // Timestamp when the configuration was created
	UpdatedAt      field.Time    // Timestamp when the configuration was last updated (managed by application)

	fieldMap map[string]field.Expr
}

func (f frameworkConfig) Table(newTableName string) *frameworkConfig {
	f.frameworkConfigDo.UseTable(newTableName)
	return f.updateTableName(newTableName)
}

func (f frameworkConfig) As(alias string) *frameworkConfig {
	f.frameworkConfigDo.DO = *(f.frameworkConfigDo.As(alias).(*gen.DO))
	return f.updateTableName(alias)
}

func (f *frameworkConfig) updateTableName(table string) *frameworkConfig {
	f.ALL = field.NewAsterisk(table)
	f.ID = field.NewInt32(table, "id")
	f.FrameworkName = field.NewString(table, "framework_name")
	f.DisplayName = field.NewString(table, "display_name")
	f.Description = field.NewString(table, "description")
	f.Priority = field.NewInt32(table, "priority")
	f.BaseConfidence = field.NewFloat64(table, "base_confidence")
	f.Enabled = field.NewBool(table, "enabled")
	f.Config = field.NewField(table, "config")
	f.CreatedAt = field.NewTime(table, "created_at")
	f.UpdatedAt = field.NewTime(table, "updated_at")

	f.fillFieldMap()

	return f
}

func (f *frameworkConfig) GetFieldByName(fieldName string) (field.OrderExpr, bool) {
	_f, ok := f.fieldMap[fieldName]
	if !ok || _f == nil {
		return nil, false
	}
	_oe, ok := _f.(field.OrderExpr)
	return _oe, ok
}

func (f *frameworkConfig) fillFieldMap() {
	f.fieldMap = make(map[string]field.Expr, 10)
	f.fieldMap["id"] = f.ID
	f.fieldMap["framework_name"] = f.FrameworkName
	f.fieldMap["display_name"] = f.DisplayName
	f.fieldMap["description"] = f.Description
	f.fieldMap["priority"] = f.Priority
	f.fieldMap["base_confidence"] = f.BaseConfidence
	f.fieldMap["enabled"] = f.Enabled
	f.fieldMap["config"] = f.Config
	f.fieldMap["created_at"] = f.CreatedAt
	f.fieldMap["updated_at"] = f.UpdatedAt
}

func (f frameworkConfig) clone(db *gorm.DB) frameworkConfig {
	f.frameworkConfigDo.ReplaceConnPool(db.Statement.ConnPool)
	return f
}

func (f frameworkConfig) replaceDB(db *gorm.DB) frameworkConfig {
	f.frameworkConfigDo.ReplaceDB(db)
	return f
}

type frameworkConfigDo struct{ gen.DO }

type IFrameworkConfigDo interface {
	gen.SubQuery
	Debug() IFrameworkConfigDo
	WithContext(ctx context.Context) IFrameworkConfigDo
	WithResult(fc func(tx gen.Dao)) gen.ResultInfo
	ReplaceDB(db *gorm.DB)
	ReadDB() IFrameworkConfigDo
	WriteDB() IFrameworkConfigDo
	As(alias string) gen.Dao
	Session(config *gorm.Session) IFrameworkConfigDo
	Columns(cols ...field.Expr) gen.Columns
	Clauses(conds ...clause.Expression) IFrameworkConfigDo
	Not(conds ...gen.Condition) IFrameworkConfigDo
	Or(conds ...gen.Condition) IFrameworkConfigDo
	Select(conds ...field.Expr) IFrameworkConfigDo
	Where(conds ...gen.Condition) IFrameworkConfigDo
	Order(conds ...field.Expr) IFrameworkConfigDo
	Distinct(cols ...field.Expr) IFrameworkConfigDo
	Omit(cols ...field.Expr) IFrameworkConfigDo
	Join(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo
	LeftJoin(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo
	RightJoin(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo
	Group(cols ...field.Expr) IFrameworkConfigDo
	Having(conds ...gen.Condition) IFrameworkConfigDo
	Limit(limit int) IFrameworkConfigDo
	Offset(offset int) IFrameworkConfigDo
	Count() (count int64, err error)
	Scopes(funcs ...func(gen.Dao) gen.Dao) IFrameworkConfigDo
	Unscoped() IFrameworkConfigDo
	Create(values ...*model.FrameworkConfig) error
	CreateInBatches(values []*model.FrameworkConfig, batchSize int) error
	Save(values ...*model.FrameworkConfig) error
	First() (*model.FrameworkConfig, error)
	Take() (*model.FrameworkConfig, error)
	Last() (*model.FrameworkConfig, error)
	Find() ([]*model.FrameworkConfig, error)
	FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.FrameworkConfig, err error)
	FindInBatches(result *[]*model.FrameworkConfig, batchSize int, fc func(tx gen.Dao, batch int) error) error
	Pluck(column field.Expr, dest interface{}) error
	Delete(...*model.FrameworkConfig) (info gen.ResultInfo, err error)
	Update(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	Updates(value interface{}) (info gen.ResultInfo, err error)
	UpdateColumn(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateColumnSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	UpdateColumns(value interface{}) (info gen.ResultInfo, err error)
	UpdateFrom(q gen.SubQuery) gen.Dao
	Attrs(attrs ...field.AssignExpr) IFrameworkConfigDo
	Assign(attrs ...field.AssignExpr) IFrameworkConfigDo
	Joins(fields ...field.RelationField) IFrameworkConfigDo
	Preload(fields ...field.RelationField) IFrameworkConfigDo
	FirstOrInit() (*model.FrameworkConfig, error)
	FirstOrCreate() (*model.FrameworkConfig, error)
	FindByPage(offset int, limit int) (result []*model.FrameworkConfig, count int64, err error)
	ScanByPage(result interface{}, offset int, limit int) (count int64, err error)
	Rows() (*sql.Rows, error)
	Row() *sql.Row
	Scan(result interface{}) (err error)
	Returning(value interface{}, columns ...string) IFrameworkConfigDo
	UnderlyingDB() *gorm.DB
	schema.Tabler
}

func (f frameworkConfigDo) Debug() IFrameworkConfigDo {
	return f.withDO(f.DO.Debug())
}

func (f frameworkConfigDo) WithContext(ctx context.Context) IFrameworkConfigDo {
	return f.withDO(f.DO.WithContext(ctx))
}

func (f frameworkConfigDo) ReadDB() IFrameworkConfigDo {
	return f.Clauses(dbresolver.Read)
}

func (f frameworkConfigDo) WriteDB() IFrameworkConfigDo {
	return f.Clauses(dbresolver.Write)
}

func (f frameworkConfigDo) Session(config *gorm.Session) IFrameworkConfigDo {
	return f.withDO(f.DO.Session(config))
}

func (f frameworkConfigDo) Clauses(conds ...clause.Expression) IFrameworkConfigDo {
	return f.withDO(f.DO.Clauses(conds...))
}

func (f frameworkConfigDo) Returning(value interface{}, columns ...string) IFrameworkConfigDo {
	return f.withDO(f.DO.Returning(value, columns...))
}

func (f frameworkConfigDo) Not(conds ...gen.Condition) IFrameworkConfigDo {
	return f.withDO(f.DO.Not(conds...))
}

func (f frameworkConfigDo) Or(conds ...gen.Condition) IFrameworkConfigDo {
	return f.withDO(f.DO.Or(conds...))
}

func (f frameworkConfigDo) Select(conds ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Select(conds...))
}

func (f frameworkConfigDo) Where(conds ...gen.Condition) IFrameworkConfigDo {
	return f.withDO(f.DO.Where(conds...))
}

func (f frameworkConfigDo) Order(conds ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Order(conds...))
}

func (f frameworkConfigDo) Distinct(cols ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Distinct(cols...))
}

func (f frameworkConfigDo) Omit(cols ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Omit(cols...))
}

func (f frameworkConfigDo) Join(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Join(table, on...))
}

func (f frameworkConfigDo) LeftJoin(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.LeftJoin(table, on...))
}

func (f frameworkConfigDo) RightJoin(table schema.Tabler, on ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.RightJoin(table, on...))
}

func (f frameworkConfigDo) Group(cols ...field.Expr) IFrameworkConfigDo {
	return f.withDO(f.DO.Group(cols...))
}

func (f frameworkConfigDo) Having(conds ...gen.Condition) IFrameworkConfigDo {
	return f.withDO(f.DO.Having(conds...))
}

func (f frameworkConfigDo) Limit(limit int) IFrameworkConfigDo {
	return f.withDO(f.DO.Limit(limit))
}

func (f frameworkConfigDo) Offset(offset int) IFrameworkConfigDo {
	return f.withDO(f.DO.Offset(offset))
}

func (f frameworkConfigDo) Scopes(funcs ...func(gen.Dao) gen.Dao) IFrameworkConfigDo {
	return f.withDO(f.DO.Scopes(funcs...))
}

func (f frameworkConfigDo) Unscoped() IFrameworkConfigDo {
	return f.withDO(f.DO.Unscoped())
}

func (f frameworkConfigDo) Create(values ...*model.FrameworkConfig) error {
	if len(values) == 0 {
		return nil
	}
	return f.DO.Create(values)
}

func (f frameworkConfigDo) CreateInBatches(values []*model.FrameworkConfig, batchSize int) error {
	return f.DO.CreateInBatches(values, batchSize)
}

// Save : !!! underlying implementation is different with GORM
// The method is equivalent to executing the statement: db.Clauses(clause.OnConflict{UpdateAll: true}).Create(values)
func (f frameworkConfigDo) Save(values ...*model.FrameworkConfig) error {
	if len(values) == 0 {
		return nil
	}
	return f.DO.Save(values)
}

func (f frameworkConfigDo) First() (*model.FrameworkConfig, error) {
	if result, err := f.DO.First(); err != nil {
		return nil, err
	} else {
		return result.(*model.FrameworkConfig), nil
	}
}

func (f frameworkConfigDo) Take() (*model.FrameworkConfig, error) {
	if result, err := f.DO.Take(); err != nil {
		return nil, err
	} else {
		return result.(*model.FrameworkConfig), nil
	}
}

func (f frameworkConfigDo) Last() (*model.FrameworkConfig, error) {
	if result, err := f.DO.Last(); err != nil {
		return nil, err
	} else {
		return result.(*model.FrameworkConfig), nil
	}
}

func (f frameworkConfigDo) Find() ([]*model.FrameworkConfig, error) {
	result, err := f.DO.Find()
	return result.([]*model.FrameworkConfig), err
}

func (f frameworkConfigDo) FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.FrameworkConfig, err error) {
	buf := make([]*model.FrameworkConfig, 0, batchSize)
	err = f.DO.FindInBatches(&buf, batchSize, func(tx gen.Dao, batch int) error {
		defer func() { results = append(results, buf...) }()
		return fc(tx, batch)
	})
	return results, err
}

func (f frameworkConfigDo) FindInBatches(result *[]*model.FrameworkConfig, batchSize int, fc func(tx gen.Dao, batch int) error) error {
	return f.DO.FindInBatches(result, batchSize, fc)
}

func (f frameworkConfigDo) Attrs(attrs ...field.AssignExpr) IFrameworkConfigDo {
	return f.withDO(f.DO.Attrs(attrs...))
}

func (f frameworkConfigDo) Assign(attrs ...field.AssignExpr) IFrameworkConfigDo {
	return f.withDO(f.DO.Assign(attrs...))
}

func (f frameworkConfigDo) Joins(fields ...field.RelationField) IFrameworkConfigDo {
	for _, _f := range fields {
		f = *f.withDO(f.DO.Joins(_f))
	}
	return &f
}

func (f frameworkConfigDo) Preload(fields ...field.RelationField) IFrameworkConfigDo {
	for _, _f := range fields {
		f = *f.withDO(f.DO.Preload(_f))
	}
	return &f
}

func (f frameworkConfigDo) FirstOrInit() (*model.FrameworkConfig, error) {
	if result, err := f.DO.FirstOrInit(); err != nil {
		return nil, err
	} else {
		return result.(*model.FrameworkConfig), nil
	}
}

func (f frameworkConfigDo) FirstOrCreate() (*model.FrameworkConfig, error) {
	if result, err := f.DO.FirstOrCreate(); err != nil {
		return nil, err
	} else {
		return result.(*model.FrameworkConfig), nil
	}
}

func (f frameworkConfigDo) FindByPage(offset int, limit int) (result []*model.FrameworkConfig, count int64, err error) {
	result, err = f.Offset(offset).Limit(limit).Find()
	if err != nil {
		return
	}

	if size := len(result); 0 < limit && 0 < size && size < limit {
		count = int64(size + offset)
		return
	}

	count, err = f.Offset(-1).Limit(-1).Count()
	return
}

func (f frameworkConfigDo) ScanByPage(result interface{}, offset int, limit int) (count int64, err error) {
	count, err = f.Count()
	if err != nil {
		return
	}

	err = f.Offset(offset).Limit(limit).Scan(result)
	return
}

func (f frameworkConfigDo) Scan(result interface{}) (err error) {
	return f.DO.Scan(result)
}

func (f frameworkConfigDo) Delete(models ...*model.FrameworkConfig) (result gen.ResultInfo, err error) {
	return f.DO.Delete(models)
}

func (f *frameworkConfigDo) withDO(do gen.Dao) *frameworkConfigDo {
	f.DO = *do.(*gen.DO)
	return f
}
