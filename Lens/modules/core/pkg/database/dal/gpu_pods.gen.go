// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package dal

import (
	"context"
	"database/sql"

	"gorm.io/gorm"
	"gorm.io/gorm/clause"
	"gorm.io/gorm/schema"

	"gorm.io/gen"
	"gorm.io/gen/field"

	"gorm.io/plugin/dbresolver"

	"github.com/AMD-AGI/Primus-SaFE/Lens/core/pkg/database/model"
)

func newGpuPods(db *gorm.DB, opts ...gen.DOOption) gpuPods {
	_gpuPods := gpuPods{}

	_gpuPods.gpuPodsDo.UseDB(db, opts...)
	_gpuPods.gpuPodsDo.UseModel(&model.GpuPods{})

	tableName := _gpuPods.gpuPodsDo.TableName()
	_gpuPods.ALL = field.NewAsterisk(tableName)
	_gpuPods.ID = field.NewInt32(tableName, "id")
	_gpuPods.Namespace = field.NewString(tableName, "namespace")
	_gpuPods.Name = field.NewString(tableName, "name")
	_gpuPods.NodeName = field.NewString(tableName, "node_name")
	_gpuPods.UID = field.NewString(tableName, "uid")
	_gpuPods.GpuAllocated = field.NewInt32(tableName, "gpu_allocated")
	_gpuPods.Phase = field.NewString(tableName, "phase")
	_gpuPods.Deleted = field.NewBool(tableName, "deleted")
	_gpuPods.CreatedAt = field.NewTime(tableName, "created_at")
	_gpuPods.UpdatedAt = field.NewTime(tableName, "updated_at")
	_gpuPods.OwnerUID = field.NewString(tableName, "owner_uid")
	_gpuPods.Running = field.NewBool(tableName, "running")
	_gpuPods.IP = field.NewString(tableName, "ip")

	_gpuPods.fillFieldMap()

	return _gpuPods
}

type gpuPods struct {
	gpuPodsDo

	ALL          field.Asterisk
	ID           field.Int32
	Namespace    field.String
	Name         field.String
	NodeName     field.String
	UID          field.String
	GpuAllocated field.Int32
	Phase        field.String
	Deleted      field.Bool
	CreatedAt    field.Time
	UpdatedAt    field.Time
	OwnerUID     field.String
	Running      field.Bool
	IP           field.String

	fieldMap map[string]field.Expr
}

func (g gpuPods) Table(newTableName string) *gpuPods {
	g.gpuPodsDo.UseTable(newTableName)
	return g.updateTableName(newTableName)
}

func (g gpuPods) As(alias string) *gpuPods {
	g.gpuPodsDo.DO = *(g.gpuPodsDo.As(alias).(*gen.DO))
	return g.updateTableName(alias)
}

func (g *gpuPods) updateTableName(table string) *gpuPods {
	g.ALL = field.NewAsterisk(table)
	g.ID = field.NewInt32(table, "id")
	g.Namespace = field.NewString(table, "namespace")
	g.Name = field.NewString(table, "name")
	g.NodeName = field.NewString(table, "node_name")
	g.UID = field.NewString(table, "uid")
	g.GpuAllocated = field.NewInt32(table, "gpu_allocated")
	g.Phase = field.NewString(table, "phase")
	g.Deleted = field.NewBool(table, "deleted")
	g.CreatedAt = field.NewTime(table, "created_at")
	g.UpdatedAt = field.NewTime(table, "updated_at")
	g.OwnerUID = field.NewString(table, "owner_uid")
	g.Running = field.NewBool(table, "running")
	g.IP = field.NewString(table, "ip")

	g.fillFieldMap()

	return g
}

func (g *gpuPods) GetFieldByName(fieldName string) (field.OrderExpr, bool) {
	_f, ok := g.fieldMap[fieldName]
	if !ok || _f == nil {
		return nil, false
	}
	_oe, ok := _f.(field.OrderExpr)
	return _oe, ok
}

func (g *gpuPods) fillFieldMap() {
	g.fieldMap = make(map[string]field.Expr, 13)
	g.fieldMap["id"] = g.ID
	g.fieldMap["namespace"] = g.Namespace
	g.fieldMap["name"] = g.Name
	g.fieldMap["node_name"] = g.NodeName
	g.fieldMap["uid"] = g.UID
	g.fieldMap["gpu_allocated"] = g.GpuAllocated
	g.fieldMap["phase"] = g.Phase
	g.fieldMap["deleted"] = g.Deleted
	g.fieldMap["created_at"] = g.CreatedAt
	g.fieldMap["updated_at"] = g.UpdatedAt
	g.fieldMap["owner_uid"] = g.OwnerUID
	g.fieldMap["running"] = g.Running
	g.fieldMap["ip"] = g.IP
}

func (g gpuPods) clone(db *gorm.DB) gpuPods {
	g.gpuPodsDo.ReplaceConnPool(db.Statement.ConnPool)
	return g
}

func (g gpuPods) replaceDB(db *gorm.DB) gpuPods {
	g.gpuPodsDo.ReplaceDB(db)
	return g
}

type gpuPodsDo struct{ gen.DO }

type IGpuPodsDo interface {
	gen.SubQuery
	Debug() IGpuPodsDo
	WithContext(ctx context.Context) IGpuPodsDo
	WithResult(fc func(tx gen.Dao)) gen.ResultInfo
	ReplaceDB(db *gorm.DB)
	ReadDB() IGpuPodsDo
	WriteDB() IGpuPodsDo
	As(alias string) gen.Dao
	Session(config *gorm.Session) IGpuPodsDo
	Columns(cols ...field.Expr) gen.Columns
	Clauses(conds ...clause.Expression) IGpuPodsDo
	Not(conds ...gen.Condition) IGpuPodsDo
	Or(conds ...gen.Condition) IGpuPodsDo
	Select(conds ...field.Expr) IGpuPodsDo
	Where(conds ...gen.Condition) IGpuPodsDo
	Order(conds ...field.Expr) IGpuPodsDo
	Distinct(cols ...field.Expr) IGpuPodsDo
	Omit(cols ...field.Expr) IGpuPodsDo
	Join(table schema.Tabler, on ...field.Expr) IGpuPodsDo
	LeftJoin(table schema.Tabler, on ...field.Expr) IGpuPodsDo
	RightJoin(table schema.Tabler, on ...field.Expr) IGpuPodsDo
	Group(cols ...field.Expr) IGpuPodsDo
	Having(conds ...gen.Condition) IGpuPodsDo
	Limit(limit int) IGpuPodsDo
	Offset(offset int) IGpuPodsDo
	Count() (count int64, err error)
	Scopes(funcs ...func(gen.Dao) gen.Dao) IGpuPodsDo
	Unscoped() IGpuPodsDo
	Create(values ...*model.GpuPods) error
	CreateInBatches(values []*model.GpuPods, batchSize int) error
	Save(values ...*model.GpuPods) error
	First() (*model.GpuPods, error)
	Take() (*model.GpuPods, error)
	Last() (*model.GpuPods, error)
	Find() ([]*model.GpuPods, error)
	FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.GpuPods, err error)
	FindInBatches(result *[]*model.GpuPods, batchSize int, fc func(tx gen.Dao, batch int) error) error
	Pluck(column field.Expr, dest interface{}) error
	Delete(...*model.GpuPods) (info gen.ResultInfo, err error)
	Update(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	Updates(value interface{}) (info gen.ResultInfo, err error)
	UpdateColumn(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateColumnSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	UpdateColumns(value interface{}) (info gen.ResultInfo, err error)
	UpdateFrom(q gen.SubQuery) gen.Dao
	Attrs(attrs ...field.AssignExpr) IGpuPodsDo
	Assign(attrs ...field.AssignExpr) IGpuPodsDo
	Joins(fields ...field.RelationField) IGpuPodsDo
	Preload(fields ...field.RelationField) IGpuPodsDo
	FirstOrInit() (*model.GpuPods, error)
	FirstOrCreate() (*model.GpuPods, error)
	FindByPage(offset int, limit int) (result []*model.GpuPods, count int64, err error)
	ScanByPage(result interface{}, offset int, limit int) (count int64, err error)
	Rows() (*sql.Rows, error)
	Row() *sql.Row
	Scan(result interface{}) (err error)
	Returning(value interface{}, columns ...string) IGpuPodsDo
	UnderlyingDB() *gorm.DB
	schema.Tabler
}

func (g gpuPodsDo) Debug() IGpuPodsDo {
	return g.withDO(g.DO.Debug())
}

func (g gpuPodsDo) WithContext(ctx context.Context) IGpuPodsDo {
	return g.withDO(g.DO.WithContext(ctx))
}

func (g gpuPodsDo) ReadDB() IGpuPodsDo {
	return g.Clauses(dbresolver.Read)
}

func (g gpuPodsDo) WriteDB() IGpuPodsDo {
	return g.Clauses(dbresolver.Write)
}

func (g gpuPodsDo) Session(config *gorm.Session) IGpuPodsDo {
	return g.withDO(g.DO.Session(config))
}

func (g gpuPodsDo) Clauses(conds ...clause.Expression) IGpuPodsDo {
	return g.withDO(g.DO.Clauses(conds...))
}

func (g gpuPodsDo) Returning(value interface{}, columns ...string) IGpuPodsDo {
	return g.withDO(g.DO.Returning(value, columns...))
}

func (g gpuPodsDo) Not(conds ...gen.Condition) IGpuPodsDo {
	return g.withDO(g.DO.Not(conds...))
}

func (g gpuPodsDo) Or(conds ...gen.Condition) IGpuPodsDo {
	return g.withDO(g.DO.Or(conds...))
}

func (g gpuPodsDo) Select(conds ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Select(conds...))
}

func (g gpuPodsDo) Where(conds ...gen.Condition) IGpuPodsDo {
	return g.withDO(g.DO.Where(conds...))
}

func (g gpuPodsDo) Order(conds ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Order(conds...))
}

func (g gpuPodsDo) Distinct(cols ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Distinct(cols...))
}

func (g gpuPodsDo) Omit(cols ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Omit(cols...))
}

func (g gpuPodsDo) Join(table schema.Tabler, on ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Join(table, on...))
}

func (g gpuPodsDo) LeftJoin(table schema.Tabler, on ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.LeftJoin(table, on...))
}

func (g gpuPodsDo) RightJoin(table schema.Tabler, on ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.RightJoin(table, on...))
}

func (g gpuPodsDo) Group(cols ...field.Expr) IGpuPodsDo {
	return g.withDO(g.DO.Group(cols...))
}

func (g gpuPodsDo) Having(conds ...gen.Condition) IGpuPodsDo {
	return g.withDO(g.DO.Having(conds...))
}

func (g gpuPodsDo) Limit(limit int) IGpuPodsDo {
	return g.withDO(g.DO.Limit(limit))
}

func (g gpuPodsDo) Offset(offset int) IGpuPodsDo {
	return g.withDO(g.DO.Offset(offset))
}

func (g gpuPodsDo) Scopes(funcs ...func(gen.Dao) gen.Dao) IGpuPodsDo {
	return g.withDO(g.DO.Scopes(funcs...))
}

func (g gpuPodsDo) Unscoped() IGpuPodsDo {
	return g.withDO(g.DO.Unscoped())
}

func (g gpuPodsDo) Create(values ...*model.GpuPods) error {
	if len(values) == 0 {
		return nil
	}
	return g.DO.Create(values)
}

func (g gpuPodsDo) CreateInBatches(values []*model.GpuPods, batchSize int) error {
	return g.DO.CreateInBatches(values, batchSize)
}

// Save : !!! underlying implementation is different with GORM
// The method is equivalent to executing the statement: db.Clauses(clause.OnConflict{UpdateAll: true}).Create(values)
func (g gpuPodsDo) Save(values ...*model.GpuPods) error {
	if len(values) == 0 {
		return nil
	}
	return g.DO.Save(values)
}

func (g gpuPodsDo) First() (*model.GpuPods, error) {
	if result, err := g.DO.First(); err != nil {
		return nil, err
	} else {
		return result.(*model.GpuPods), nil
	}
}

func (g gpuPodsDo) Take() (*model.GpuPods, error) {
	if result, err := g.DO.Take(); err != nil {
		return nil, err
	} else {
		return result.(*model.GpuPods), nil
	}
}

func (g gpuPodsDo) Last() (*model.GpuPods, error) {
	if result, err := g.DO.Last(); err != nil {
		return nil, err
	} else {
		return result.(*model.GpuPods), nil
	}
}

func (g gpuPodsDo) Find() ([]*model.GpuPods, error) {
	result, err := g.DO.Find()
	return result.([]*model.GpuPods), err
}

func (g gpuPodsDo) FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.GpuPods, err error) {
	buf := make([]*model.GpuPods, 0, batchSize)
	err = g.DO.FindInBatches(&buf, batchSize, func(tx gen.Dao, batch int) error {
		defer func() { results = append(results, buf...) }()
		return fc(tx, batch)
	})
	return results, err
}

func (g gpuPodsDo) FindInBatches(result *[]*model.GpuPods, batchSize int, fc func(tx gen.Dao, batch int) error) error {
	return g.DO.FindInBatches(result, batchSize, fc)
}

func (g gpuPodsDo) Attrs(attrs ...field.AssignExpr) IGpuPodsDo {
	return g.withDO(g.DO.Attrs(attrs...))
}

func (g gpuPodsDo) Assign(attrs ...field.AssignExpr) IGpuPodsDo {
	return g.withDO(g.DO.Assign(attrs...))
}

func (g gpuPodsDo) Joins(fields ...field.RelationField) IGpuPodsDo {
	for _, _f := range fields {
		g = *g.withDO(g.DO.Joins(_f))
	}
	return &g
}

func (g gpuPodsDo) Preload(fields ...field.RelationField) IGpuPodsDo {
	for _, _f := range fields {
		g = *g.withDO(g.DO.Preload(_f))
	}
	return &g
}

func (g gpuPodsDo) FirstOrInit() (*model.GpuPods, error) {
	if result, err := g.DO.FirstOrInit(); err != nil {
		return nil, err
	} else {
		return result.(*model.GpuPods), nil
	}
}

func (g gpuPodsDo) FirstOrCreate() (*model.GpuPods, error) {
	if result, err := g.DO.FirstOrCreate(); err != nil {
		return nil, err
	} else {
		return result.(*model.GpuPods), nil
	}
}

func (g gpuPodsDo) FindByPage(offset int, limit int) (result []*model.GpuPods, count int64, err error) {
	result, err = g.Offset(offset).Limit(limit).Find()
	if err != nil {
		return
	}

	if size := len(result); 0 < limit && 0 < size && size < limit {
		count = int64(size + offset)
		return
	}

	count, err = g.Offset(-1).Limit(-1).Count()
	return
}

func (g gpuPodsDo) ScanByPage(result interface{}, offset int, limit int) (count int64, err error) {
	count, err = g.Count()
	if err != nil {
		return
	}

	err = g.Offset(offset).Limit(limit).Scan(result)
	return
}

func (g gpuPodsDo) Scan(result interface{}) (err error) {
	return g.DO.Scan(result)
}

func (g gpuPodsDo) Delete(models ...*model.GpuPods) (result gen.ResultInfo, err error) {
	return g.DO.Delete(models)
}

func (g *gpuPodsDo) withDO(do gen.Dao) *gpuPodsDo {
	g.DO = *do.(*gen.DO)
	return g
}
