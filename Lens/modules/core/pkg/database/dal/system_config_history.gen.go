// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package dal

import (
	"context"
	"database/sql"

	"gorm.io/gorm"
	"gorm.io/gorm/clause"
	"gorm.io/gorm/schema"

	"gorm.io/gen"
	"gorm.io/gen/field"

	"gorm.io/plugin/dbresolver"

	"github.com/AMD-AGI/Primus-SaFE/Lens/core/pkg/database/model"
)

func newSystemConfigHistory(db *gorm.DB, opts ...gen.DOOption) systemConfigHistory {
	_systemConfigHistory := systemConfigHistory{}

	_systemConfigHistory.systemConfigHistoryDo.UseDB(db, opts...)
	_systemConfigHistory.systemConfigHistoryDo.UseModel(&model.SystemConfigHistory{})

	tableName := _systemConfigHistory.systemConfigHistoryDo.TableName()
	_systemConfigHistory.ALL = field.NewAsterisk(tableName)
	_systemConfigHistory.ID = field.NewInt64(tableName, "id")
	_systemConfigHistory.ConfigID = field.NewInt64(tableName, "config_id")
	_systemConfigHistory.Key = field.NewString(tableName, "key")
	_systemConfigHistory.OldValue = field.NewField(tableName, "old_value")
	_systemConfigHistory.NewValue = field.NewField(tableName, "new_value")
	_systemConfigHistory.Version = field.NewInt32(tableName, "version")
	_systemConfigHistory.ChangeReason = field.NewString(tableName, "change_reason")
	_systemConfigHistory.ChangedAt = field.NewTime(tableName, "changed_at")
	_systemConfigHistory.ChangedBy = field.NewString(tableName, "changed_by")

	_systemConfigHistory.fillFieldMap()

	return _systemConfigHistory
}

type systemConfigHistory struct {
	systemConfigHistoryDo

	ALL          field.Asterisk
	ID           field.Int64
	ConfigID     field.Int64 // Reference to the system_config table
	Key          field.String
	OldValue     field.Field  // Previous configuration value before the change
	NewValue     field.Field  // New configuration value after the change
	Version      field.Int32  // Configuration version number
	ChangeReason field.String // Reason for the configuration change
	ChangedAt    field.Time   // Timestamp when the configuration was changed
	ChangedBy    field.String // User who made the configuration change

	fieldMap map[string]field.Expr
}

func (s systemConfigHistory) Table(newTableName string) *systemConfigHistory {
	s.systemConfigHistoryDo.UseTable(newTableName)
	return s.updateTableName(newTableName)
}

func (s systemConfigHistory) As(alias string) *systemConfigHistory {
	s.systemConfigHistoryDo.DO = *(s.systemConfigHistoryDo.As(alias).(*gen.DO))
	return s.updateTableName(alias)
}

func (s *systemConfigHistory) updateTableName(table string) *systemConfigHistory {
	s.ALL = field.NewAsterisk(table)
	s.ID = field.NewInt64(table, "id")
	s.ConfigID = field.NewInt64(table, "config_id")
	s.Key = field.NewString(table, "key")
	s.OldValue = field.NewField(table, "old_value")
	s.NewValue = field.NewField(table, "new_value")
	s.Version = field.NewInt32(table, "version")
	s.ChangeReason = field.NewString(table, "change_reason")
	s.ChangedAt = field.NewTime(table, "changed_at")
	s.ChangedBy = field.NewString(table, "changed_by")

	s.fillFieldMap()

	return s
}

func (s *systemConfigHistory) GetFieldByName(fieldName string) (field.OrderExpr, bool) {
	_f, ok := s.fieldMap[fieldName]
	if !ok || _f == nil {
		return nil, false
	}
	_oe, ok := _f.(field.OrderExpr)
	return _oe, ok
}

func (s *systemConfigHistory) fillFieldMap() {
	s.fieldMap = make(map[string]field.Expr, 9)
	s.fieldMap["id"] = s.ID
	s.fieldMap["config_id"] = s.ConfigID
	s.fieldMap["key"] = s.Key
	s.fieldMap["old_value"] = s.OldValue
	s.fieldMap["new_value"] = s.NewValue
	s.fieldMap["version"] = s.Version
	s.fieldMap["change_reason"] = s.ChangeReason
	s.fieldMap["changed_at"] = s.ChangedAt
	s.fieldMap["changed_by"] = s.ChangedBy
}

func (s systemConfigHistory) clone(db *gorm.DB) systemConfigHistory {
	s.systemConfigHistoryDo.ReplaceConnPool(db.Statement.ConnPool)
	return s
}

func (s systemConfigHistory) replaceDB(db *gorm.DB) systemConfigHistory {
	s.systemConfigHistoryDo.ReplaceDB(db)
	return s
}

type systemConfigHistoryDo struct{ gen.DO }

type ISystemConfigHistoryDo interface {
	gen.SubQuery
	Debug() ISystemConfigHistoryDo
	WithContext(ctx context.Context) ISystemConfigHistoryDo
	WithResult(fc func(tx gen.Dao)) gen.ResultInfo
	ReplaceDB(db *gorm.DB)
	ReadDB() ISystemConfigHistoryDo
	WriteDB() ISystemConfigHistoryDo
	As(alias string) gen.Dao
	Session(config *gorm.Session) ISystemConfigHistoryDo
	Columns(cols ...field.Expr) gen.Columns
	Clauses(conds ...clause.Expression) ISystemConfigHistoryDo
	Not(conds ...gen.Condition) ISystemConfigHistoryDo
	Or(conds ...gen.Condition) ISystemConfigHistoryDo
	Select(conds ...field.Expr) ISystemConfigHistoryDo
	Where(conds ...gen.Condition) ISystemConfigHistoryDo
	Order(conds ...field.Expr) ISystemConfigHistoryDo
	Distinct(cols ...field.Expr) ISystemConfigHistoryDo
	Omit(cols ...field.Expr) ISystemConfigHistoryDo
	Join(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo
	LeftJoin(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo
	RightJoin(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo
	Group(cols ...field.Expr) ISystemConfigHistoryDo
	Having(conds ...gen.Condition) ISystemConfigHistoryDo
	Limit(limit int) ISystemConfigHistoryDo
	Offset(offset int) ISystemConfigHistoryDo
	Count() (count int64, err error)
	Scopes(funcs ...func(gen.Dao) gen.Dao) ISystemConfigHistoryDo
	Unscoped() ISystemConfigHistoryDo
	Create(values ...*model.SystemConfigHistory) error
	CreateInBatches(values []*model.SystemConfigHistory, batchSize int) error
	Save(values ...*model.SystemConfigHistory) error
	First() (*model.SystemConfigHistory, error)
	Take() (*model.SystemConfigHistory, error)
	Last() (*model.SystemConfigHistory, error)
	Find() ([]*model.SystemConfigHistory, error)
	FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.SystemConfigHistory, err error)
	FindInBatches(result *[]*model.SystemConfigHistory, batchSize int, fc func(tx gen.Dao, batch int) error) error
	Pluck(column field.Expr, dest interface{}) error
	Delete(...*model.SystemConfigHistory) (info gen.ResultInfo, err error)
	Update(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	Updates(value interface{}) (info gen.ResultInfo, err error)
	UpdateColumn(column field.Expr, value interface{}) (info gen.ResultInfo, err error)
	UpdateColumnSimple(columns ...field.AssignExpr) (info gen.ResultInfo, err error)
	UpdateColumns(value interface{}) (info gen.ResultInfo, err error)
	UpdateFrom(q gen.SubQuery) gen.Dao
	Attrs(attrs ...field.AssignExpr) ISystemConfigHistoryDo
	Assign(attrs ...field.AssignExpr) ISystemConfigHistoryDo
	Joins(fields ...field.RelationField) ISystemConfigHistoryDo
	Preload(fields ...field.RelationField) ISystemConfigHistoryDo
	FirstOrInit() (*model.SystemConfigHistory, error)
	FirstOrCreate() (*model.SystemConfigHistory, error)
	FindByPage(offset int, limit int) (result []*model.SystemConfigHistory, count int64, err error)
	ScanByPage(result interface{}, offset int, limit int) (count int64, err error)
	Rows() (*sql.Rows, error)
	Row() *sql.Row
	Scan(result interface{}) (err error)
	Returning(value interface{}, columns ...string) ISystemConfigHistoryDo
	UnderlyingDB() *gorm.DB
	schema.Tabler
}

func (s systemConfigHistoryDo) Debug() ISystemConfigHistoryDo {
	return s.withDO(s.DO.Debug())
}

func (s systemConfigHistoryDo) WithContext(ctx context.Context) ISystemConfigHistoryDo {
	return s.withDO(s.DO.WithContext(ctx))
}

func (s systemConfigHistoryDo) ReadDB() ISystemConfigHistoryDo {
	return s.Clauses(dbresolver.Read)
}

func (s systemConfigHistoryDo) WriteDB() ISystemConfigHistoryDo {
	return s.Clauses(dbresolver.Write)
}

func (s systemConfigHistoryDo) Session(config *gorm.Session) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Session(config))
}

func (s systemConfigHistoryDo) Clauses(conds ...clause.Expression) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Clauses(conds...))
}

func (s systemConfigHistoryDo) Returning(value interface{}, columns ...string) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Returning(value, columns...))
}

func (s systemConfigHistoryDo) Not(conds ...gen.Condition) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Not(conds...))
}

func (s systemConfigHistoryDo) Or(conds ...gen.Condition) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Or(conds...))
}

func (s systemConfigHistoryDo) Select(conds ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Select(conds...))
}

func (s systemConfigHistoryDo) Where(conds ...gen.Condition) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Where(conds...))
}

func (s systemConfigHistoryDo) Order(conds ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Order(conds...))
}

func (s systemConfigHistoryDo) Distinct(cols ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Distinct(cols...))
}

func (s systemConfigHistoryDo) Omit(cols ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Omit(cols...))
}

func (s systemConfigHistoryDo) Join(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Join(table, on...))
}

func (s systemConfigHistoryDo) LeftJoin(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.LeftJoin(table, on...))
}

func (s systemConfigHistoryDo) RightJoin(table schema.Tabler, on ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.RightJoin(table, on...))
}

func (s systemConfigHistoryDo) Group(cols ...field.Expr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Group(cols...))
}

func (s systemConfigHistoryDo) Having(conds ...gen.Condition) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Having(conds...))
}

func (s systemConfigHistoryDo) Limit(limit int) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Limit(limit))
}

func (s systemConfigHistoryDo) Offset(offset int) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Offset(offset))
}

func (s systemConfigHistoryDo) Scopes(funcs ...func(gen.Dao) gen.Dao) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Scopes(funcs...))
}

func (s systemConfigHistoryDo) Unscoped() ISystemConfigHistoryDo {
	return s.withDO(s.DO.Unscoped())
}

func (s systemConfigHistoryDo) Create(values ...*model.SystemConfigHistory) error {
	if len(values) == 0 {
		return nil
	}
	return s.DO.Create(values)
}

func (s systemConfigHistoryDo) CreateInBatches(values []*model.SystemConfigHistory, batchSize int) error {
	return s.DO.CreateInBatches(values, batchSize)
}

// Save : !!! underlying implementation is different with GORM
// The method is equivalent to executing the statement: db.Clauses(clause.OnConflict{UpdateAll: true}).Create(values)
func (s systemConfigHistoryDo) Save(values ...*model.SystemConfigHistory) error {
	if len(values) == 0 {
		return nil
	}
	return s.DO.Save(values)
}

func (s systemConfigHistoryDo) First() (*model.SystemConfigHistory, error) {
	if result, err := s.DO.First(); err != nil {
		return nil, err
	} else {
		return result.(*model.SystemConfigHistory), nil
	}
}

func (s systemConfigHistoryDo) Take() (*model.SystemConfigHistory, error) {
	if result, err := s.DO.Take(); err != nil {
		return nil, err
	} else {
		return result.(*model.SystemConfigHistory), nil
	}
}

func (s systemConfigHistoryDo) Last() (*model.SystemConfigHistory, error) {
	if result, err := s.DO.Last(); err != nil {
		return nil, err
	} else {
		return result.(*model.SystemConfigHistory), nil
	}
}

func (s systemConfigHistoryDo) Find() ([]*model.SystemConfigHistory, error) {
	result, err := s.DO.Find()
	return result.([]*model.SystemConfigHistory), err
}

func (s systemConfigHistoryDo) FindInBatch(batchSize int, fc func(tx gen.Dao, batch int) error) (results []*model.SystemConfigHistory, err error) {
	buf := make([]*model.SystemConfigHistory, 0, batchSize)
	err = s.DO.FindInBatches(&buf, batchSize, func(tx gen.Dao, batch int) error {
		defer func() { results = append(results, buf...) }()
		return fc(tx, batch)
	})
	return results, err
}

func (s systemConfigHistoryDo) FindInBatches(result *[]*model.SystemConfigHistory, batchSize int, fc func(tx gen.Dao, batch int) error) error {
	return s.DO.FindInBatches(result, batchSize, fc)
}

func (s systemConfigHistoryDo) Attrs(attrs ...field.AssignExpr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Attrs(attrs...))
}

func (s systemConfigHistoryDo) Assign(attrs ...field.AssignExpr) ISystemConfigHistoryDo {
	return s.withDO(s.DO.Assign(attrs...))
}

func (s systemConfigHistoryDo) Joins(fields ...field.RelationField) ISystemConfigHistoryDo {
	for _, _f := range fields {
		s = *s.withDO(s.DO.Joins(_f))
	}
	return &s
}

func (s systemConfigHistoryDo) Preload(fields ...field.RelationField) ISystemConfigHistoryDo {
	for _, _f := range fields {
		s = *s.withDO(s.DO.Preload(_f))
	}
	return &s
}

func (s systemConfigHistoryDo) FirstOrInit() (*model.SystemConfigHistory, error) {
	if result, err := s.DO.FirstOrInit(); err != nil {
		return nil, err
	} else {
		return result.(*model.SystemConfigHistory), nil
	}
}

func (s systemConfigHistoryDo) FirstOrCreate() (*model.SystemConfigHistory, error) {
	if result, err := s.DO.FirstOrCreate(); err != nil {
		return nil, err
	} else {
		return result.(*model.SystemConfigHistory), nil
	}
}

func (s systemConfigHistoryDo) FindByPage(offset int, limit int) (result []*model.SystemConfigHistory, count int64, err error) {
	result, err = s.Offset(offset).Limit(limit).Find()
	if err != nil {
		return
	}

	if size := len(result); 0 < limit && 0 < size && size < limit {
		count = int64(size + offset)
		return
	}

	count, err = s.Offset(-1).Limit(-1).Count()
	return
}

func (s systemConfigHistoryDo) ScanByPage(result interface{}, offset int, limit int) (count int64, err error) {
	count, err = s.Count()
	if err != nil {
		return
	}

	err = s.Offset(offset).Limit(limit).Scan(result)
	return
}

func (s systemConfigHistoryDo) Scan(result interface{}) (err error) {
	return s.DO.Scan(result)
}

func (s systemConfigHistoryDo) Delete(models ...*model.SystemConfigHistory) (result gen.ResultInfo, err error) {
	return s.DO.Delete(models)
}

func (s *systemConfigHistoryDo) withDO(do gen.Dao) *systemConfigHistoryDo {
	s.DO = *do.(*gen.DO)
	return s
}
