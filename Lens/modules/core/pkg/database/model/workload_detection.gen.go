// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.
// Code generated by gorm.io/gen. DO NOT EDIT.

package model

import (
	"time"
)

const TableNameWorkloadDetection = "workload_detection"

// WorkloadDetection mapped from table <workload_detection>
type WorkloadDetection struct {
	ID               int64     `gorm:"column:id;primaryKey;autoIncrement:true" json:"id"`
	WorkloadUID      string    `gorm:"column:workload_uid;not null;comment:Workload unique identifier (unique)" json:"workload_uid"`                                                        // Workload unique identifier (unique)
	Status           string    `gorm:"column:status;not null;default:unknown;comment:Detection status: unknown, suspected, confirmed, verified, conflict" json:"status"`                    // Detection status: unknown, suspected, confirmed, verified, conflict
	Framework        string    `gorm:"column:framework;comment:Primary framework (aggregated result)" json:"framework"`                                                                     // Primary framework (aggregated result)
	Frameworks       ExtJSON   `gorm:"column:frameworks;default:[];comment:All frameworks as JSON array (aggregated result)" json:"frameworks"`                                             // All frameworks as JSON array (aggregated result)
	WorkloadType     string    `gorm:"column:workload_type;comment:Workload type: training or inference" json:"workload_type"`                                                              // Workload type: training or inference
	Confidence       float64   `gorm:"column:confidence;not null;default:0.0;comment:Aggregated confidence score [0.000-1.000]" json:"confidence"`                                          // Aggregated confidence score [0.000-1.000]
	FrameworkLayer   string    `gorm:"column:framework_layer;comment:Framework layer: wrapper or base" json:"framework_layer"`                                                              // Framework layer: wrapper or base
	WrapperFramework string    `gorm:"column:wrapper_framework;comment:Wrapper framework name" json:"wrapper_framework"`                                                                    // Wrapper framework name
	BaseFramework    string    `gorm:"column:base_framework;comment:Base framework name" json:"base_framework"`                                                                             // Base framework name
	DetectionState   string    `gorm:"column:detection_state;not null;default:pending;comment:Active detection task state: pending, in_progress, completed, failed" json:"detection_state"` // Active detection task state: pending, in_progress, completed, failed
	AttemptCount     int32     `gorm:"column:attempt_count;not null;comment:Number of detection attempts made" json:"attempt_count"`                                                        // Number of detection attempts made
	MaxAttempts      int32     `gorm:"column:max_attempts;not null;default:5;comment:Maximum detection attempts before giving up" json:"max_attempts"`                                      // Maximum detection attempts before giving up
	LastAttemptAt    time.Time `gorm:"column:last_attempt_at;comment:Timestamp of last detection attempt" json:"last_attempt_at"`                                                           // Timestamp of last detection attempt
	NextAttemptAt    time.Time `gorm:"column:next_attempt_at;comment:Scheduled time for next detection attempt" json:"next_attempt_at"`                                                     // Scheduled time for next detection attempt
	Context          ExtType   `gorm:"column:context;default:{};comment:Detection context: retry config, probe settings, etc. (JSONB)" json:"context"`                                      // Detection context: retry config, probe settings, etc. (JSONB)
	EvidenceCount    int32     `gorm:"column:evidence_count;not null;comment:Total number of evidence records for this workload" json:"evidence_count"`                                     // Total number of evidence records for this workload
	EvidenceSources  ExtJSON   `gorm:"column:evidence_sources;default:[];comment:List of sources that contributed evidence (JSON array)" json:"evidence_sources"`                           // List of sources that contributed evidence (JSON array)
	Conflicts        ExtJSON   `gorm:"column:conflicts;default:[];comment:Detection conflicts if any (JSON array)" json:"conflicts"`                                                        // Detection conflicts if any (JSON array)
	CreatedAt        time.Time `gorm:"column:created_at;not null;default:now()" json:"created_at"`
	UpdatedAt        time.Time `gorm:"column:updated_at;not null;default:now()" json:"updated_at"`
	ConfirmedAt      time.Time `gorm:"column:confirmed_at;comment:Timestamp when detection was confirmed or verified" json:"confirmed_at"` // Timestamp when detection was confirmed or verified

	// Phase 2: Intent Analysis fields (added by patch064)
	Category          *string  `gorm:"column:category;comment:Fine-grained intent category: pre_training, fine_tuning, inference, evaluation, data_processing, serving, profiling" json:"category"`
	ExpectedBehavior  *string  `gorm:"column:expected_behavior;comment:Expected behavior pattern: long_running, batch, periodic, elastic" json:"expected_behavior"`
	ModelPath         *string  `gorm:"column:model_path;comment:Model path or identifier" json:"model_path"`
	ModelFamily       *string  `gorm:"column:model_family;comment:Model family: llama, mixtral, qwen, phi, deepseek, etc." json:"model_family"`
	ModelScale        *string  `gorm:"column:model_scale;comment:Model parameter scale: 7B, 70B, 8x7B, etc." json:"model_scale"`
	ModelVariant      *string  `gorm:"column:model_variant;comment:Model variant: base, chat, instruct, etc." json:"model_variant"`
	RuntimeFramework  *string  `gorm:"column:runtime_framework;comment:Runtime framework: pytorch, jax, tensorflow" json:"runtime_framework"`
	IntentDetail      ExtType  `gorm:"column:intent_detail;default:{};comment:Detailed intent parameters (JSONB)" json:"intent_detail"`
	IntentConfidence  *float64 `gorm:"column:intent_confidence;comment:Intent analysis confidence score [0.000-1.000]" json:"intent_confidence"`
	IntentSource      *string  `gorm:"column:intent_source;comment:Intent analysis source: deterministic, llm, rule, manual" json:"intent_source"`
	IntentReasoning   *string  `gorm:"column:intent_reasoning;comment:LLM reasoning chain for intent analysis" json:"intent_reasoning"`
	IntentFieldSources ExtType `gorm:"column:intent_field_sources;default:{};comment:Per-field provenance mapping (JSONB)" json:"intent_field_sources"`
	IntentAnalysisMode *string `gorm:"column:intent_analysis_mode;comment:Analysis mode: cmdline_rich, config_based, code_analyzed, shell_expanded" json:"intent_analysis_mode"`
	IntentMatchedRules ExtJSON `gorm:"column:intent_matched_rules;default:[];comment:List of matched intent rule IDs (JSONB)" json:"intent_matched_rules"`
	IntentState       *string  `gorm:"column:intent_state;default:pending;comment:Intent analysis lifecycle: pending, analyzing, completed, failed, partial, timeout" json:"intent_state"`
	IntentAnalyzedAt  *time.Time `gorm:"column:intent_analyzed_at;comment:Timestamp when intent analysis was completed" json:"intent_analyzed_at"`
}

// TableName WorkloadDetection's table name
func (*WorkloadDetection) TableName() string {
	return TableNameWorkloadDetection
}
