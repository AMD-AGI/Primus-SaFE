# Storage Exporter Configuration
#
# This exporter automatically discovers WekaFS StorageClasses and collects
# storage metrics by dynamically creating PVCs and collector pods.
#
# No manual mount configuration needed - just deploy and it will:
# 1. Scan StorageClasses for provisioner: csi.weka.io
# 2. Group by filesystemName (one PVC per filesystem)
# 3. Create collector pods to run df command
# 4. Export metrics to Prometheus

httpPort: 8992
loadK8SClient: true

storage:
  # Scrape interval for storage metrics
  scrapeInterval: 60s

controller:
  # Namespace where PVCs and collector pods will be created
  # Can be overridden by POD_NAMESPACE env var
  namespace: primus-lens
  # Image for collector pods (must have df command)
  collectorImage: alpine:3.19

# Prometheus metrics configuration
metrics:
  staticLabels:
    primus_lens_cluster: default

# Middleware configuration
middleware:
  enableLogging: true
  enableTracing: false
