apiVersion: amd.com/v1
kind: AddonTemplate
metadata:
  name: rocblas-fp32-bench
  labels:
    primus-safe.display.name: "rocblas-fp32-bench"
    app.kubernetes.io/managed-by: Helm
  annotations:
    meta.helm.sh/release-name: {{ .Release.Name }}
    meta.helm.sh/release-namespace: {{ .Release.Namespace }}
spec:
  type: validation
  category: System
  gpuChip: amd
  gpuProduct: MI300X
  description: Use the command "rocblas-bench" to benchmark(fp32) the GEMM performance of rocBLAS
  extensions:
    action: ZHBrZyAtbCB8IGdyZXAgLXEgImxpYmd0ZXN0LWRldiIKaWYgWyAkPyAtbmUgMCBdOyB0aGVuCiAgYXB0IGluc3RhbGwgLXkgbGliZ3Rlc3QtZGV2ID4vZGV2L251bGwgMj5lcnJvcgogIGlmIFsgJD8gLW5lIDAgXTsgdGhlbgogICAgY2F0IGVycm9yICYmIHJtIC1mIGVycm9yCiAgICBlY2hvICJbRVJST1JdOiBmYWlsZWQgdG8gaW5zdGFsbCBsaWJndGVzdC1kZXYiCiAgICBleGl0IDEKICBmaQogIHJtIC1mIGVycm9yCmZpClJFUE9fVVJMPSJodHRwczovL2dpdGh1Yi5jb20vUk9DbS9yb2NCTEFTLmdpdCIKRElSX05BTUU9InJvY0JMQVMiCmlmIFsgISAtZCAiJERJUl9OQU1FIiBdOyB0aGVuCiAgZ2l0IGNsb25lICIkUkVQT19VUkwiID4vZGV2L251bGwgMj5lcnJvcgogIGlmIFsgJD8gLW5lIDAgXTsgdGhlbgogICAgY2F0IGVycm9yICYmIHJtIC1mIGVycm9yCiAgICBlY2hvICJbRVJST1JdOiBmYWlsZWQgdG8gY2xvbmUgJFJFUE9fVVJMIgogICAgZXhpdCAxCiAgZmkKICBybSAtZiBlcnJvcgpmaQpjZCAiJERJUl9OQU1FIiB8fCB7IGVjaG8gIltFUlJPUl06IHVuYWJsZSB0byBhY2Nlc3MgJERJUl9OQU1FIjsgZXhpdCAxOyB9CmlmIFsgISAtZiAuL2J1aWxkL3JlbGVhc2UvY2xpZW50cy9zdGFnaW5nL3JvY2JsYXMtYmVuY2ggXTsgdGhlbgogIGdpdCBjaGVja291dCByb2NtLTYuMi4wID4vZGV2L251bGwgMj4mMQogIC4vaW5zdGFsbC5zaCAtLWNsaWVudHMtb25seSAtLWxpYnJhcnktcGF0aCAvb3B0L3JvY20gPi9kZXYvbnVsbCAyPmVycm9yCiAgaWYgWyAkPyAtbmUgMCBdOyB0aGVuCiAgICBjYXQgZXJyb3IgJiYgcm0gLWYgZXJyb3IKICAgIGVjaG8gIltFUlJPUl06IGZhaWxlZCB0byBpbnN0YWxsIgogICAgZXhpdCAxCiAgZmkKICBybSAtZiBlcnJvcgpmaQoKTE9HX0ZJTEU9Ii90bXAvcm9jX2JsYXNfZnAzMl9iZW5jaC5sb2ciCi4vYnVpbGQvcmVsZWFzZS9jbGllbnRzL3N0YWdpbmcvcm9jYmxhcy1iZW5jaCAtZiBnZW1tIC1yIHMgLW0gNDAwMCAtbiA0MDAwIC1rIDQwMDAgLS1sZGEgNDAwMCAtLWxkYiA0MDAwIC0tbGRjIDQwMDAgLS10cmFuc3Bvc2VBIE4gLS10cmFuc3Bvc2VCIFQgPiRMT0dfRklMRSAyPiYxCkVYSVRfQ09ERT0kPwppZiBbICRFWElUX0NPREUgLW5lIDAgXTsgdGhlbgogIGNhdCAkTE9HX0ZJTEUgJiYgcm0gLWYgJExPR19GSUxFCiAgZWNobyAiW0VSUk9SXTogcm9jYmxhcy1iZW5jaCBmYWlsZWQgd2l0aCBleGl0IGNvZGU6ICRFWElUX0NPREUiCiAgZXhpdCAxCmZpCmdmbG9wcz0kKHRhaWwgLTEgJExPR19GSUxFfCBhd2sgLUYiLCIgJ3twcmludCAkKE5GLTEpfScgfCB0ciAtZCAnICcpCnRocmVzaG9sZD05NDEwMApybSAtZiAkTE9HX0ZJTEUKcmVzdWx0PSQoZWNobyAiJGdmbG9wcyA+PSAkdGhyZXNob2xkIiB8IGJjIC1sKQppZiBbWyAiJHJlc3VsdCIgLW5lIDEgXV07IHRoZW4KICBlY2hvICJbRVJST1JdIEdmbG9wcyAoJGdmbG9wcykgaXMgbGVzcyB0aGFuIHRoZSB0aHJlc2hvbGQoJHRocmVzaG9sZCkiCiAgZXhpdCAxCmZpCmVjaG8gIltTVUNDRVNTXSByb2MtYmxhcyBmcDMyIGJlbmNoIHRlc3QgcGFzc2VkIHN1Y2Nlc3NmdWxseSwgcmVzdWx0OiAkZ2Zsb3BzIgpleGl0IDAK
