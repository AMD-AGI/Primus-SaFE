apiVersion: amd.com/v1
kind: AddonTemplate
metadata:
  name: transfer-bench-default
  labels:
    primus-safe.display.name: "transfer-bench-default"
    app.kubernetes.io/managed-by: Helm
  annotations:
    meta.helm.sh/release-name: {{ .Release.Name }}
    meta.helm.sh/release-namespace: {{ .Release.Namespace }}
spec:
  type: validation
  category: System
  gpuChip: amd
  gpuProduct: MI300X
  description: Use the default configuration to conduct performance testing through parallel transfers.
  extensions:
    action: UkVQT19VUkw9Imh0dHBzOi8vZ2l0aHViLmNvbS9ST0NtL1RyYW5zZmVyQmVuY2guZ2l0IgpESVJfTkFNRT0iVHJhbnNmZXJCZW5jaCIKaWYgWyAhIC1kICIkRElSX05BTUUiIF07IHRoZW4KICBnaXQgY2xvbmUgIiRSRVBPX1VSTCIKICBpZiBbICQ/IC1uZSAwIF07IHRoZW4KICAgIGVjaG8gIltFUlJPUl06IGZhaWxlZCB0byBjbG9uZSAkUkVQT19VUkwiCiAgICBleGl0IDEKICBmaQpmaQpjZCAiJERJUl9OQU1FIiB8fCB7IGVjaG8gIltFUlJPUl06IHVuYWJsZSB0byBhY2Nlc3MgJERJUl9OQU1FIjsgZXhpdCAxOyB9CkNDPWhpcGNjIG1ha2UgPiAvZGV2L251bGwgMj4mMQppZiBbICQ/IC1uZSAwIF07IHRoZW4KICBlY2hvICJbRVJST1JdOiBmYWlsZWQgdG8gbWFrZSIKICBleGl0IDEKZmkKCkxPR19GSUxFPSIvdG1wL3RyYW5zZmVyX2RlZmF1bHQubG9nIgouL1RyYW5zZmVyQmVuY2ggZXhhbXBsZXMvZXhhbXBsZS5jZmcgPiRMT0dfRklMRSAyPiYxCkVYSVRfQ09ERT0kPwppZiBbICRFWElUX0NPREUgLW5lIDAgXTsgdGhlbgogIGVjaG8gIltFUlJPUl06IFRyYW5zZmVyQmVuY2ggZmFpbGVkIHdpdGggZXhpdCBjb2RlOiAkRVhJVF9DT0RFIgogIGVjaG8gIiRPVVRQVVQiCiAgcm0gLWYgJExPR19GSUxFCiAgZXhpdCAxCmZpCgpkZWNsYXJlIC1BIHJlc3VsdHMKdGVzdF9udW09IiIKd2hpbGUgSUZTPSByZWFkIC1yIGxpbmU7IGRvCiAgICBsaW5lPSQoZWNobyAiJGxpbmUiIHwgc2VkICdzL15bWzpzcGFjZTpdXSovLycpCiAgICBpZiBbWyAiJGxpbmUiID1+IF5UZXN0W1s6c3BhY2U6XV0oWzAtOV0rKTogXV07IHRoZW4KICAgICAgICB0ZXN0X251bT0iVGVzdF8ke0JBU0hfUkVNQVRDSFsxXX0iCiAgICBlbGlmIFtbICIkbGluZSIgPX4gXkV4ZWN1dG9yOiogXV07IHRoZW4KICAgICAgICBzdW1fdmFsdWU9YGVjaG8gJGxpbmUgfCBhd2sgJ3twcmludCAkKE5GLTIpfSdgCiAgICAgICAgaWYgW1sgIiR0ZXN0X251bSIgPT0gIlRlc3RfMyIgXV07IHRoZW4KICAgICAgICAgICAgaWYgW1sgLXogIiR7cmVzdWx0c1tUZXN0XzNfR1BVMDBdfSIgXV07IHRoZW4KICAgICAgICAgICAgICByZXN1bHRzW1Rlc3RfM19HUFUwMF09IiRzdW1fdmFsdWUiCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICByZXN1bHRzW1Rlc3RfM19HUFUwMV09IiRzdW1fdmFsdWUiCiAgICAgICAgICAgIGZpCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXN1bHRzWyIkdGVzdF9udW0iXT0iJHN1bV92YWx1ZSIKICAgICAgICBmaQogICAgZmkKZG9uZSA8ICIkTE9HX0ZJTEUiCnJtIC1mICRMT0dfRklMRQoKY2hlY2tfcmVzdWx0KCkgewogICAgbG9jYWwgdGVzdF9uYW1lPSIkMSIKICAgIGxvY2FsIHRocmVzaG9sZD0iJDIiCiAgICBsb2NhbCB2YWx1ZT0iJHtyZXN1bHRzWyR0ZXN0X25hbWVdfSIKICAgIGlmIFtbIC16ICIkdmFsdWUiIF1dOyB0aGVuCiAgICAgICAgZWNobyAiW0VSUk9SXSAkdGVzdF9uYW1lOiBtaXNzaW5nIHJlc3VsdCB2YWx1ZSIKICAgICAgICBleGl0IDEKICAgIGZpCiAgICBsb2NhbCByZXN1bHQ9JChlY2hvICIkdmFsdWUgPj0gJHRocmVzaG9sZCIgfCBiYyAtbCkKICAgIGlmIFtbICIkcmVzdWx0IiAtZXEgMSBdXTsgdGhlbgogICAgICAgIGVjaG8gIltJTkZPXSAkdGVzdF9uYW1lOiAkdmFsdWUgPj0gJHRocmVzaG9sZCIKICAgIGVsc2UKICAgICAgICBlY2hvICJbRVJST1JdICR0ZXN0X25hbWU6ICR2YWx1ZSA8ICR0aHJlc2hvbGQiCiAgICAgICAgZXhpdCAxCiAgICBmaQp9CmNoZWNrX3Jlc3VsdCAiVGVzdF8xIiA0Ny4xCmNoZWNrX3Jlc3VsdCAiVGVzdF8yIiA0OC40CmNoZWNrX3Jlc3VsdCAiVGVzdF8zX0dQVTAwIiAzMS45CmNoZWNrX3Jlc3VsdCAiVGVzdF8zX0dQVTAxIiAzOC45CmNoZWNrX3Jlc3VsdCAiVGVzdF80IiAxMjY0CmNoZWNrX3Jlc3VsdCAiVGVzdF81IiAwCmNoZWNrX3Jlc3VsdCAiVGVzdF82IiA0OC42CmVjaG8gIltTVUNDRVNTXSBkZWZhdWx0IHRyYW5zZmVyIGJlbmNoIHRlc3RzIHBhc3NlZCBzdWNjZXNzZnVsbHkiCmV4aXQgMAo=