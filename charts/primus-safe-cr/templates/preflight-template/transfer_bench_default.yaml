apiVersion: amd.com/v1
kind: AddonTemplate
metadata:
  name: transfer-bench-default
  labels:
    primus-safe.display.name: "transfer-bench-default"
    app.kubernetes.io/managed-by: Helm
  annotations:
    meta.helm.sh/release-name: {{ .Release.Name }}
    meta.helm.sh/release-namespace: {{ .Release.Namespace }}
spec:
  type: validation
  category: System
  gpuChip: amd
  gpuProduct: MI300X
  description: Use the default configuration to conduct performance testing through parallel transfers.
  extensions:
    action: UkVQT19VUkw9Imh0dHBzOi8vZ2l0aHViLmNvbS9ST0NtL1RyYW5zZmVyQmVuY2guZ2l0IgpESVJfTkFNRT0iVHJhbnNmZXJCZW5jaCIKaWYgWyAhIC1kICIkRElSX05BTUUiIF07IHRoZW4KICBnaXQgY2xvbmUgIiRSRVBPX1VSTCIgPi9kZXYvbnVsbCAyPmVycm9yCiAgaWYgWyAkPyAtbmUgMCBdOyB0aGVuCiAgICBjYXQgZXJyb3IgJiYgcm0gLWYgZXJyb3IKICAgIGVjaG8gIltFUlJPUl06IGZhaWxlZCB0byBjbG9uZSAkUkVQT19VUkwiCiAgICBleGl0IDEKICBmaQogIHJtIC1mIGVycm9yCmZpCmNkICIkRElSX05BTUUiIHx8IHsgZWNobyAiW0VSUk9SXTogdW5hYmxlIHRvIGFjY2VzcyAkRElSX05BTUUiOyBleGl0IDE7IH0KQ0M9aGlwY2MgbWFrZSA+IC9kZXYvbnVsbCAyPmVycm9yCmlmIFsgJD8gLW5lIDAgXTsgdGhlbgogIGNhdCBlcnJvciAmJiBybSAtZiBlcnJvcgogIGVjaG8gIltFUlJPUl06IGZhaWxlZCB0byBtYWtlIgogIGV4aXQgMQpmaQpybSAtZiBlcnJvcgoKTE9HX0ZJTEU9Ii90bXAvdHJhbnNmZXJfZGVmYXVsdC5sb2ciCi4vVHJhbnNmZXJCZW5jaCBleGFtcGxlcy9leGFtcGxlLmNmZyA+JExPR19GSUxFIDI+JjEKRVhJVF9DT0RFPSQ/CmlmIFsgJEVYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgY2F0ICRMT0dfRklMRSAmJiBybSAtZiAkTE9HX0ZJTEUKICBlY2hvICJbRVJST1JdOiBUcmFuc2ZlckJlbmNoIGZhaWxlZCB3aXRoIGV4aXQgY29kZTogJEVYSVRfQ09ERSIKICBleGl0IDEKZmkKCmRlY2xhcmUgLUEgcmVzdWx0cwp0ZXN0X251bT0iIgp3aGlsZSBJRlM9IHJlYWQgLXIgbGluZTsgZG8KICBsaW5lPSQoZWNobyAiJGxpbmUiIHwgc2VkICdzL15bWzpzcGFjZTpdXSovLycpCiAgaWYgW1sgIiRsaW5lIiA9fiBeVGVzdFtbOnNwYWNlOl1dKFswLTldKyk6IF1dOyB0aGVuCiAgICB0ZXN0X251bT0iVGVzdF8ke0JBU0hfUkVNQVRDSFsxXX0iCiAgZWxpZiBbWyAiJGxpbmUiID1+IF5FeGVjdXRvcjoqIF1dOyB0aGVuCiAgICBzdW1fdmFsdWU9YGVjaG8gJGxpbmUgfCBhd2sgJ3twcmludCAkKE5GLTIpfSdgCiAgICBpZiBbWyAiJHRlc3RfbnVtIiA9PSAiVGVzdF8zIiBdXTsgdGhlbgogICAgICBpZiBbWyAteiAiJHtyZXN1bHRzW1Rlc3RfM19HUFUwMF19IiBdXTsgdGhlbgogICAgICAgIHJlc3VsdHNbVGVzdF8zX0dQVTAwXT0iJHN1bV92YWx1ZSIKICAgICAgZWxzZQogICAgICAgIHJlc3VsdHNbVGVzdF8zX0dQVTAxXT0iJHN1bV92YWx1ZSIKICAgICAgZmkKICAgIGVsc2UKICAgICAgcmVzdWx0c1siJHRlc3RfbnVtIl09IiRzdW1fdmFsdWUiCiAgICBmaQogIGZpCmRvbmUgPCAiJExPR19GSUxFIgpybSAtZiAkTE9HX0ZJTEUKCmNoZWNrX3Jlc3VsdCgpIHsKICBsb2NhbCB0ZXN0X25hbWU9IiQxIgogIGxvY2FsIHRocmVzaG9sZD0iJDIiCiAgbG9jYWwgdmFsdWU9IiR7cmVzdWx0c1skdGVzdF9uYW1lXX0iCiAgaWYgW1sgLXogIiR2YWx1ZSIgXV07IHRoZW4KICAgIGVjaG8gIltFUlJPUl0gJHRlc3RfbmFtZTogbWlzc2luZyByZXN1bHQgdmFsdWUiCiAgICBleGl0IDEKICBmaQogIGxvY2FsIHJlc3VsdD0kKGVjaG8gIiR2YWx1ZSA+PSAkdGhyZXNob2xkIiB8IGJjIC1sKQogIGlmIFtbICIkcmVzdWx0IiAtZXEgMSBdXTsgdGhlbgogICAgZWNobyAiW0lORk9dICR0ZXN0X25hbWU6ICR2YWx1ZSA+PSAkdGhyZXNob2xkIgogIGVsc2UKICAgIGVjaG8gIltFUlJPUl0gJHRlc3RfbmFtZTogJHZhbHVlIDwgJHRocmVzaG9sZCIKICAgIGV4aXQgMQogIGZpCn0KY2hlY2tfcmVzdWx0ICJUZXN0XzEiIDQ3LjEKY2hlY2tfcmVzdWx0ICJUZXN0XzIiIDQ4LjQKY2hlY2tfcmVzdWx0ICJUZXN0XzNfR1BVMDAiIDMxLjkKY2hlY2tfcmVzdWx0ICJUZXN0XzNfR1BVMDEiIDM4LjkKY2hlY2tfcmVzdWx0ICJUZXN0XzQiIDEyNjQKY2hlY2tfcmVzdWx0ICJUZXN0XzUiIDAKY2hlY2tfcmVzdWx0ICJUZXN0XzYiIDQ4LjYKZWNobyAiW1NVQ0NFU1NdIGRlZmF1bHQgdHJhbnNmZXIgYmVuY2ggdGVzdHMgcGFzc2VkIHN1Y2Nlc3NmdWxseSIKZXhpdCAwCg==
